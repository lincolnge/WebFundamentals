
<!DOCTYPE html>
<html lang="en" class="no-js no-touch">
  <head>

    
<meta charset="utf-8" />

<meta name="google-site-verification" content="zFM_etMkM6oOvH6CNip7QxEbslAw6kJ2kiGJBYYBIcA" />

<title>Optimizing encoding and transfer size of text-based assets — Web Fundamentals</title>





<meta name="author" content="https://plus.google.com/+IlyaGrigorik/posts" />



<meta name="description" content="Once we've eliminated any unnecessary resources, the next step is to minimize the total size of the remaining resources the browser has to download - i.e. compress them by applying content-type specific and generic compression (GZip) algorithms." />


<link rel="canonical" href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/optimize-encoding-and-transfer">
<link rel="icon" href="/favicon.ico" />



<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta id="viewport" name="viewport" content="width=device-width, initial-scale=1" />
<meta name="google-site-verification" content="zFM_etMkM6oOvH6CNip7QxEbslAw6kJ2kiGJBYYBIcA" />

<meta name="twitter:card" content="summary">
<meta name="twitter:account_id" content="@chromiumdev" />
<meta name="twitter:site" content="@chromiumdev" />
<meta name="twitter:description" content="Once we've eliminated any unnecessary resources, the next step is to minimize the total size of the remaining resources the browser has to download - i.e. compress them by applying content-type specific and generic compression (GZip) algorithms." />
<meta name="twitter:creator" content="igrigorik" />
<meta name="twitter:image:src" content="https://developers.google.com/web/imgs/logo.png" />


<link rel="author" href="https://plus.google.com/+IlyaGrigorik/posts">
<link rel="publisher" href="https://plus.google.com/+GoogleChromeDevelopers">

<meta itemprop="name" content="Optimizing encoding and transfer size of text-based assets — Web Fundamentals">
<link itemprop="image" href="https://developers.google.com/web/imgs/logo.png">
<meta itemprop="description" content="Once we've eliminated any unnecessary resources, the next step is to minimize the total size of the remaining resources the browser has to download - i.e. compress them by applying content-type specific and generic compression (GZip) algorithms.">

<meta property="og:site_name" content="Web Fundamentals" />
<meta property="og:title" content="Optimizing encoding and transfer size of text-based assets — Web Fundamentals" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://developers.google.com/web/fundamentals/" />
<meta property="og:image" content="https://developers.google.com/web/imgs/logo.png" />
<meta property="og:publisher" content="https://www.facebook.com/googlechrome" />




<meta name="theme-color" content="#297ea8">


<link rel="stylesheet" media="screen" href="/css/styles.min.css" />

  </head>

  <body class="page--article article--optimizing-content-efficiency theme--optimizing-content-efficiency" itemscope itemtype="http://schema.org/TechArticle">
    

    <header class="main-header">

  <div class="google-header">
  
    <div class="google-header__top">
      <div class="container">
        <span id="beta" class="beta">
  <i class="icon icon-cog"></i>
   <a href="https://github.com/Google/WebFundamentals/tree/master/src/site/_en/fundamentals/performance/optimizing-content-efficiency/optimize-encoding-and-transfer.markdown" target="_blank">View Source</a>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="https://github.com/Google/WebFundamentals/issues/new?title=Feedback%20for:%20/fundamentals/performance/optimizing-content-efficiency/optimize-encoding-and-transfer.html" target="_blank">Submit Feedback</a>
</span>


        <a class="google-header__dev-logo" href="https://developers.google.com/">
          <img src="/imgs/developers-logo.svg" alt="Google Developers Homepage">
        </a>
      </div>
    </div>
  </div>

	




















<nav class="main-nav">

  <header class="main-nav__header">
    <span class="main-nav__current-label">Optimizing encoding and transfer size of text-based assets</span>
  </header>

  <ul class="main-nav__list clear">
  
    
    
    
    <li class="main-nav__item main-nav__item--web-<strong>fundamentals</strong>  main-nav__item--home  ">
      <a class="main-nav__link main-nav__link--parent" href="/fundamentals/" title="Go to Web Fundamentals">

        Web <strong>Fundamentals</strong>

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    
    <li class="main-nav__item main-nav__item--get-started  ">
      <a class="main-nav__link main-nav__link--parent" href="/fundamentals/getting-started/" title="Go to Get Started">

        Get Started

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    
    <li class="main-nav__item main-nav__item--documentation   main-nav__item--has-child">
      <a class="main-nav__link main-nav__link--parent" href="/fundamentals/#documentation" title="Go to Documentation">

        Documentation

        
        <i class="main-nav__icon icon icon-custom"></i>
        
      </a>

      

        <div class="main-nav__secondary-nav">

          <div class="main-nav__secondary-content">

            <div class="clear">
              <ul class="main-nav__list--child g-medium--2 g-wide--2">
                
                  <li class="main-nav__item--child nav-theme--principles-of-site-design">
                    <a class="main-nav__link main-nav__link--child themed--hover" title="Go to Principles of Site Design" href="/fundamentals/principles/">
                      <span class="main-nav__guide-icon icon-circle--nav themed--background"><i class="icon icon-principles-of-site-design"></i></span> Principles of Site Design <i class="main-nav__icon icon icon-chevron-right"></i>
                    </a>
                  </li>
                
                  <li class="main-nav__item--child nav-theme--multi-device-layouts">
                    <a class="main-nav__link main-nav__link--child themed--hover" title="Go to Multi-Device Layouts" href="/fundamentals/layouts/">
                      <span class="main-nav__guide-icon icon-circle--nav themed--background"><i class="icon icon-multi-device-layouts"></i></span> Multi-Device Layouts <i class="main-nav__icon icon icon-chevron-right"></i>
                    </a>
                  </li>
                
                  <li class="main-nav__item--child nav-theme--user-input">
                    <a class="main-nav__link main-nav__link--child themed--hover" title="Go to Forms and User Input" href="/fundamentals/input/">
                      <span class="main-nav__guide-icon icon-circle--nav themed--background"><i class="icon icon-user-input"></i></span> Forms and User Input <i class="main-nav__icon icon icon-chevron-right"></i>
                    </a>
                  </li>
                
                  <li class="main-nav__item--child nav-theme--look-and-feel">
                    <a class="main-nav__link main-nav__link--child themed--hover" title="Go to Look and Feel" href="/fundamentals/look-and-feel/">
                      <span class="main-nav__guide-icon icon-circle--nav themed--background"><i class="icon icon-look-and-feel"></i></span> Look and Feel <i class="main-nav__icon icon icon-chevron-right"></i>
                    </a>
                  </li>
                
                  <li class="main-nav__item--child nav-theme--introduction-to-media">
                    <a class="main-nav__link main-nav__link--child themed--hover" title="Go to Images, Video and Audio" href="/fundamentals/media/">
                      <span class="main-nav__guide-icon icon-circle--nav themed--background"><i class="icon icon-introduction-to-media"></i></span> Images, Video and Audio <i class="main-nav__icon icon icon-chevron-right"></i>
                    </a>
                  </li>
                
                  <li class="main-nav__item--child nav-theme--monetization">
                    <a class="main-nav__link main-nav__link--child themed--hover" title="Go to Monetization" href="/fundamentals/monetization/">
                      <span class="main-nav__guide-icon icon-circle--nav themed--background"><i class="icon icon-monetization"></i></span> Monetization <i class="main-nav__icon icon icon-chevron-right"></i>
                    </a>
                  </li>
                
                  <li class="main-nav__item--child nav-theme--device-access">
                    <a class="main-nav__link main-nav__link--child themed--hover" title="Go to Device Access" href="/fundamentals/device-access/">
                      <span class="main-nav__guide-icon icon-circle--nav themed--background"><i class="icon icon-device-access"></i></span> Device Access <i class="main-nav__icon icon icon-chevron-right"></i>
                    </a>
                  </li>
                
                  <li class="main-nav__item--child nav-theme--performance">
                    <a class="main-nav__link main-nav__link--child themed--hover" title="Go to Performance" href="/fundamentals/performance/">
                      <span class="main-nav__guide-icon icon-circle--nav themed--background"><i class="icon icon-performance"></i></span> Performance <i class="main-nav__icon icon icon-chevron-right"></i>
                    </a>
                  </li>
                
              </ul>
            </div>

          </div>
        </div>

      

    </li>
    
  
    
    
    
    <li class="main-nav__item main-nav__item--tools  ">
      <a class="main-nav__link main-nav__link--parent" href="/fundamentals/tools/" title="Go to Tools">

        Tools

        
        <i class="main-nav__icon icon icon-chevron-right"></i>
        
      </a>

      

    </li>
    
  
    
    
    
  
    
    
    
  

  </ul>
  <button class="main-nav__btn btn--toggle-nav">
    <i class="icon icon-menu"></i>
  </button>

</nav>


</header>


    <div class="article-container" itemprop="text">
      <div class="editorial-header">
        <div class="container">
          <div class="content">

            <nav class="breadcrumbs">
  <p>
  
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
    <a href="/fundamentals/" title="Web Fundamentals" rel="home" itemprop="url"><span itemprop="title">Web Fundamentals</span></a>
    </span>
    /
  
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
    <a href="/fundamentals/performance/" title="Optimizing Performance"  itemprop="url"><span itemprop="title">Optimizing Performance</span></a>
    </span>
    /
  
    <span itemscope itemtype="http://data-vocabulary.org/Breadcrumb">
    <a href="/fundamentals/performance/optimizing-content-efficiency/" title="Optimizing Content Efficiency"  itemprop="url"><span itemprop="title">Optimizing Content Efficiency</span></a>
    </span>
    /
  
  </p>
</nav>



            <h1 class="tag editorial-header__title">Optimizing Content Efficiency</h1>
            <h2 class="editorial-header__subtitle" itemprop="name">Optimizing encoding and transfer size of text-based assets</h2>

            <p class="editorial-header__excerpt" itemprop="headline">Our web applications continue to grow in their scope, ambition, and functionality - that's a good thing. However, the relentless march towards a richer web is driving another trend: the amount of data downloaded by each application continues to increase at a steady pace. To deliver great performance we need to optimize delivery of each and every byte of data!</p>

          </div>
        </div>
      </div>

      <div class="container"><div class="content">

    <div class="toc">
      <h3 class="toc__title">In this guide</h3>
<ol class="toc__list list-anchor" id="toc">
  <li><a href="#data-compression-101">Data compression 101</a></li>
  <li><a href="#minification-preprocessing--context-specific-optimizations">Minification: preprocessing &amp; context-specific optimizations</a></li>
  <li><a href="#text-compression-with-gzip">Text compression with GZIP</a></li>
</ol>

    </div>

    <style>
  img, video, object {
    max-width: 100%;
  }

  img.center {
    display: block;
    margin-left: auto;
    margin-right: auto;
  }

  pre {
    background-color: #f0f0f0;
    padding: 1em 3em;
  }
</style>

    <h2 id="data-compression-101">Data compression 101</h2>

    <p>Once we’ve eliminated any unnecessary resources, the next step is to minimize the total size of the remaining resources the browser has to download - i.e. compress them. Depending on the resource type - text, images, fonts, and so on - we have a number of different techniques at our disposal: generic tools that can be enabled on the server, pre-processing optimizations for specific content-types, and resource specific optimizations that require input from the developer.</p>

    <p>Delivering the best performance requires the combination of all of these techniques.</p>

  </div>
</div>
<div class="highlight-module  highlight-module--left   highlight-module--learning  ">
  <div class="highlight-module__container  icon-star ">
    <div class="highlight-module__content   g-wide--push-1 g-wide--pull-1  g-medium--push-1   ">
      <p class="highlight-module__title"> TL;DR</p>

      

      
        <ul class="highlight-module__list">
        
          <li>Compression is the process of encoding information using fewer bits</li>
        
          <li>Eliminating unnecessary data always yields the best results</li>
        
          <li>There are many different compression techniques and algorithms</li>
        
          <li>You will need a variety of techniques to achieve the best compression</li>
        
        </ul>
      
    </div>
  </div>
</div>
<div class="container">
  <div class="content">

    <p>The process of reducing the size of data is known as “data compression,” and it is a deep field of study on its own: many people have spent their entire careers working on algorithms, techniques, and optimizations to improve compression ratios, speed, and memory requirements of various compressors. Needless to say, a full discussion on this topic is out of our scope, but it is still important to understand, at a high level, how compression works and the techniques we have at our disposal to reduce the size of various assets required by our pages.</p>

    <p>To illustrate the core principles of these techniques in action, let’s consider how we can go about optimizing a simple text message format that we’ll invent just for this example:</p>

    <pre><code># Below is a secret message, which consists of a set of headers in
# key-value format followed by a newline and the encrypted message.
format: secret-cipher
date: 04/04/14
AAAZZBBBBEEEMMM EEETTTAAA
</code></pre>

    <ol>
      <li>Messages may contain arbitrary annotations, which are indicated by the “#” prefix. Annotations do not affect the meaning or any other behavior of the message.</li>
      <li>Messages may contain “headers” which are key-value pairs (separated by “:”) and have to appear at the beginning at the message.</li>
      <li>Messages carry text payloads.</li>
    </ol>

    <p>What could we do reduce the size of the above message, which is currently 200 characters long?</p>

    <ol>
      <li>Well, the comment is interesting, but we know that it doesn’t actually affect the meaning of the message, so we eliminate it when we’re transmitting the message.</li>
      <li>There are probably some clever techniques we could use to encode headers in an efficient manner &#8211; e.g. we don’t know if all messages always have “format” and “date”, but if they did, we could convert those to short integer IDs and just send those! That said, we’re not sure if that’s the case, so we’ll leave it alone for now.</li>
      <li>The payload is text only, and while we don’t know what the contents of it really are (apparently, it’s using a “secret-message”), just looking at the text seems to show that there is a lot of redundancy in it. Perhaps, instead of sending repeated letters, we can just count the number of repeated letters and encode them more efficiently?
        <ul>
          <li>E.g. “AAA” becomes “3A” - or, sequence of three A’s.</li>
        </ul>
      </li>
    </ol>

    <p>Combining our techniques, we arrive at the following result:</p>

    <pre><code>format: secret-cipher
date: 04/04/14
3A2Z4B3E3M 3E3T3A
</code></pre>

    <p>The new message is 56 characters long, which means we managed to compress our original message by an impressive 72% - not bad, all things considered, and we’re only getting started!</p>

    <p>Of course, you may be wondering, this is all great, but how does this help us optimize our web pages? Surely we’re not going to try to invent our compression algorithms, are we? The answer is no, we won’t, but as you will see, we will use the exact same techniques and way of thinking when optimizing various resources on our pages: preprocessing, context-specific optimizations, and different algorithms for different content.</p>

    <h2 id="minification-preprocessing--context-specific-optimizations">Minification: preprocessing &amp; context-specific optimizations</h2>

  </div>
</div>
<div class="highlight-module  highlight-module--left   highlight-module--learning  ">
  <div class="highlight-module__container  icon-star ">
    <div class="highlight-module__content   g-wide--push-1 g-wide--pull-1  g-medium--push-1   ">
      <p class="highlight-module__title"> TL;DR</p>

      

      
        <ul class="highlight-module__list">
        
          <li>Content-specific optimizations can significantly reduce the size of delivered resources.</li>
        
          <li>Content-specific optimizations are best applied as part of your build/release cycle.</li>
        
        </ul>
      
    </div>
  </div>
</div>
<div class="container">
  <div class="content">

    <p>The best way to compress redundant or unnecessary data is to eliminate it altogether. Of course, we can’t just delete arbitrary data, but in some contexts where we may have content-specific knowledge of the data format and its properties, it is often possible to significantly reduce the size of the payload without affecting its actual meaning.</p>

  </div>
  </div>
<div dir="ltr" class="highlight-module highlight-module--code highlight-module--right">
    <div class="highlight-module__container">
      <code class="html"><div class="highlight"><pre>    <span class="nt">&lt;html&gt;</span>
      <span class="nt">&lt;head&gt;</span>
      <span class="nt">&lt;style&gt;</span>
         <span class="c">/* awesome-container is only used on the landing page */</span>
         <span class="nc">.awesome-container</span> <span class="p">{</span> <span class="k">font-size</span><span class="o">:</span> <span class="m">120%</span> <span class="p">}</span>
         <span class="nc">.awesome-container</span> <span class="p">{</span> <span class="k">width</span><span class="o">:</span> <span class="m">50%</span> <span class="p">}</span>
      <span class="nt">&lt;/style&gt;</span>
     <span class="nt">&lt;/head&gt;</span>
    
     <span class="nt">&lt;body&gt;</span>
       <span class="c">&lt;!-- awesome container content: START --&gt;</span>
        <span class="nt">&lt;div&gt;</span>…<span class="nt">&lt;/div&gt;</span>
       <span class="c">&lt;!-- awesome container content: END --&gt;</span>
       <span class="nt">&lt;script&gt;</span>
         <span class="nx">awesomeAnalytics</span><span class="p">();</span> <span class="c1">// beacon conversion metrics</span>
       <span class="nt">&lt;/script&gt;</span>
     <span class="nt">&lt;/body&gt;</span>
    <span class="nt">&lt;/html&gt;</span>
</pre></div></code>                                                     
      <a class="highlight-module__cta button--primary" href="/fundamentals/resources/samples/performance/optimizing-content-efficiency/minify.html">Try full sample</a>
    </div>
  </div>
<div class="container">
    <div class="content">

    <p>Consider the simple HTML page above and the three different content types that it contains: HTML markup, CSS styles, and JavaScript. Each of these content types has different rules for what constitutes valid HTML markup, CSS rules, or JavaScript content, different rules for indicating comments, and so on. How could we reduce the size of this page?</p>

    <ul>
      <li>Code comments are a developer’s best friend, but the browser does not need to see them! Simply stripping the CSS (<code>/* … */</code>), HTML (<code>&lt;!-- … --&gt;</code>), and JavaScript (<code>// …</code>) comments can significantly reduce the total size of the page.</li>
      <li>A “smart” CSS compressor could notice that we’re using an inefficient way of defining rules for ‘.awesome-container’ and collapse the two declarations into one without affecting any other styles, saving yet more bytes.</li>
      <li>
        <p>Whitespace (spaces and tabs) is a developer convenience in HTML, CSS, and JavaScript. An additional compressor could strip out all the tabs and spaces.</p>
      </li>
    </ul>
  </div>
  </div>
<div dir="ltr" class="highlight-module highlight-module--code highlight-module--right">
    <div class="highlight-module__container">
      <code class="html"><div class="highlight"><pre>    <span class="nt">&lt;html&gt;&lt;head&gt;&lt;style&gt;</span><span class="nc">.awesome-container</span><span class="p">{</span><span class="k">font-size</span><span class="o">:</span><span class="m">120%</span><span class="p">;</span><span class="k">width</span><span class="o">:</span> <span class="m">50%</span><span class="p">}</span>
    <span class="nt">&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;div&gt;</span>…<span class="nt">&lt;/div&gt;&lt;script&gt;</span><span class="nx">awesomeAnalytics</span><span class="p">();</span>
    <span class="nt">&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;</span>
</pre></div></code>                                                     
      <a class="highlight-module__cta button--primary" href="/fundamentals/resources/samples/performance/optimizing-content-efficiency/minified.html">Try full sample</a>
    </div>
  </div>
<div class="container">
    <div class="content">

    <p>After applying the above steps our page goes from 406 to 150 characters - 63% compression savings! Granted, it’s not very readable, but it also doesn’t have to be: we can keep the original page as our “development version” and then apply the steps above whenever we are ready to release the page on our website.</p>

    <p>Taking a step back, the above example illustrates an important point: a general purpose compressor - say one designed to compress arbitrary text - could probably also do a pretty good job of compressing the page above, but it would never know to strip the comments, collapse the CSS rules, or dozens of other content-specific optimizations. This is why preprocessing / minification / context-aware optimization can be such a powerful tool.</p>

  </div>
</div>
<div class="highlight-module  highlight-module--right   highlight-module--remember   highlight-module--inline ">
  <div class="highlight-module__container  icon-exclamation ">
    <div class="highlight-module__content   g-wide--pull-1 highlight-module__inline ">
      <p class="highlight-module__title"> Remember</p>

      

      
        <ul class="highlight-module__list">
        
          <li>Case in point, the uncompressed development version of the JQuery library is now approaching ~300KB. The same library, but minified (removed comments, etc.) is about 3x smaller: ~100KB.</li>
        
        </ul>
      
    </div>
  </div>
</div>
<div class="container">
  <div class="content">

    <p>Similarly, above techniques can be extended beyond just text-based assets. Images, video, and other content types all contain their own forms of metadata and various payloads. For example, whenever you take a picture with a camera, the photo also typically embeds a lot of extra information: camera settings, location, and so on. Depending on your application, this data may be critical (e.g. a photo sharing site), or completely useless and you should consider whether it is worth removing. In practice, this metadata can add up to tens of kilobytes for every image!</p>

    <p>In short, as a first step in optimizing the efficiency of your assets, build an inventory of the different content types and consider what kinds of content-specific optimizations you can apply to reduce their size - doing so can yield significant savings! Then, once you’ve figured out what they are, automate these optimizations by adding them to your build and release processes - that’s the only way you can guarantee that the optimizations will stay in place.</p>

    <h2 id="text-compression-with-gzip">Text compression with GZIP</h2>

  </div>
</div>
<div class="highlight-module  highlight-module--left   highlight-module--learning  ">
  <div class="highlight-module__container  icon-star ">
    <div class="highlight-module__content   g-wide--push-1 g-wide--pull-1  g-medium--push-1   ">
      <p class="highlight-module__title"> TL;DR</p>

      

      
        <ul class="highlight-module__list">
        
          <li>GZIP performs best on text-based assets: CSS, JavaScript, HTML</li>
        
          <li>All modern browsers support GZIP compression and will automatically request it</li>
        
          <li>Your server needs to be configured to enable GZIP compression</li>
        
          <li>Some CDNs require special care to ensure that GZIP is enabled</li>
        
        </ul>
      
    </div>
  </div>
</div>
<div class="container">
  <div class="content">

    <p><a href="http://en.wikipedia.org/wiki/Gzip">GZIP</a> is a generic compressor that can be applied to any stream of bytes: under the hood it remembers some of the previously seen content and attempts to find and replace duplicate data fragments in an efficient way - for the curious, <a href="https://www.youtube.com/watch?v=whGwm0Lky2s&amp;feature=youtu.be&amp;t=14m11s">great low-level explanation of GZIP</a>. However, in practice, GZIP performs best on text-based content, often achieving compression rates of as high as 70-90% for larger files, whereas running GZIP on assets that are already compressed via alternative algorithms (e.g. most image formats) yields little to no improvement.</p>

    <p>All modern browsers support and automatically negotiate GZIP compression for all HTTP requests: our job is to ensure that the server is properly configured to serve the compressed resource when requested by the client.</p>

    <table class="table-4">
<colgroup><col span="1" /><col span="1" /><col span="1" /><col span="1" /></colgroup>
<thead>
  <tr>
    <th>Library</th>
    <th>Size</th>
    <th>Compressed size</th>
    <th>Compression ratio</th>
  </tr>
</thead>
<tbody>
<tr>
  <td data-th="library">jquery-1.11.0.js</td>
  <td data-th="size">276 KB</td>
  <td data-th="compressed">82 KB</td>
  <td data-th="savings">70%</td>
</tr>
<tr>
  <td data-th="library">jquery-1.11.0.min.js</td>
  <td data-th="size">94 KB</td>
  <td data-th="compressed">33 KB</td>
  <td data-th="savings">65%</td>
</tr>
<tr>
  <td data-th="library">angular-1.2.15.js</td>
  <td data-th="size">729 KB</td>
  <td data-th="compressed">182 KB</td>
  <td data-th="savings">75%</td>
</tr>
<tr>
  <td data-th="library">angular-1.2.15.min.js</td>
  <td data-th="size">101 KB</td>
  <td data-th="compressed">37 KB</td>
  <td data-th="savings">63%</td>
</tr>
<tr>
  <td data-th="library">bootstrap-3.1.1.css</td>
  <td data-th="size">118 KB</td>
  <td data-th="compressed">18 KB</td>
  <td data-th="savings">85%</td>
</tr>
<tr>
  <td data-th="library">bootstrap-3.1.1.min.css</td>
  <td data-th="size">98 KB</td>
  <td data-th="compressed">17 KB</td>
  <td data-th="savings">83%</td>
</tr>
<tr>
  <td data-th="library">foundation-5.css</td>
  <td data-th="size">186 KB</td>
  <td data-th="compressed">22 KB</td>
  <td data-th="savings">88%</td>
</tr>
<tr>
  <td data-th="library">foundation-5.min.css</td>
  <td data-th="size">146 KB</td>
  <td data-th="compressed">18 KB</td>
  <td data-th="savings">88%</td>
</tr>
</tbody>
</table>

    <p>The above table illustrates the savings provided by GZIP compression for a few of the most popular JavaScript libraries and CSS frameworks. The savings range from 60 to 88%, and note that the combination of minified files (identified by “.min” in their filenames), plus GZIP, offers an even larger win.</p>

    <ol>
      <li><strong>Apply content-specific optimizations first: CSS, JS, and HTML minifiers.</strong></li>
      <li><strong>Apply GZIP to compress the minified output.</strong></li>
    </ol>

    <p>The best part is that enabling GZIP is one of the simplest and highest payoff optimizations to implement - sadly, many people still forget to implement it. Most web servers will compress content on your behalf, and you just need to verify that the server is correctly configured to compress all the content types that would benefit from GZIP compression.</p>

    <p>What’s the best config for your server? The HTML5 Boilerplate project contains <a href="https://github.com/h5bp/server-configs">sample configuration files</a> for all the most popular servers with detailed comments for each configuration flag and setting: find your favorite server in the list, look for the GZIP section, and confirm that your server is configured with recommended settings.</p>

    <p><img src="images/transfer-vs-actual-size.png" class="center" alt="DevTools demo of actual vs transfer size" /></p>

    <p>A quick and simple way to see GZIP in action is to open Chrome DevTools and inspect the “Size / Content” column in the Network panel: “Size” indicates the transfer size of the asset, and “Content” the uncompressed size of the asset. For the HTML asset in above example, GZIP saved 24.8 KB during transfer!</p>

  </div>
</div>
<div class="highlight-module  highlight-module--right   highlight-module--remember   highlight-module--inline ">
  <div class="highlight-module__container  icon-exclamation ">
    <div class="highlight-module__content   g-wide--pull-1 highlight-module__inline ">
      <p class="highlight-module__title"> Remember</p>

      

      
        <ul class="highlight-module__list">
        
          <li>Believe it or not, there are cases where GZIP can increase the size of the asset. Typically, this happens when the asset is very small and the overhead of the GZIP dictionary is higher than the compression savings, or if the resource is already well compressed. Some servers allow you to specify a “minimum filesize threshold” to avoid this problem.</li>
        
        </ul>
      
    </div>
  </div>
</div>
<div class="container">
  <div class="content">

    <p>Finally, a word of warning: while most servers will automatically compress the assets for you when serving them to the user, some CDNs require extra care and manual effort to ensure that the GZIP asset is served. Audit your site and ensure that your assets are, in fact, <a href="http://www.whatsmyip.org/http-compression-test/">being compressed</a>!</p>

  </div></div>


      
        






























<div class="container-medium">
  <div class="next-lessons themed--background" data-current-lesson="05">
    <h3><i class="icon icon-lessons"></i> Next Sections</h3>
    <ol class="list-lessons list-links">
  <li title="Eliminating unnecessary downloads"><a  href="/fundamentals/performance/optimizing-content-efficiency/eliminate-downloads.html">Eliminating unnecessary downloads </a></li>
  <li class="current" title="Optimizing encoding and transfer size of text-based assets"><a >Optimizing encoding and transfer size of text-based assets  <i class="icon icon-tick"></i></a></li>
  <li title="Image optimization"><a  href="/fundamentals/performance/optimizing-content-efficiency/image-optimization.html">Image optimization </a></li>
  <li title="Webfont optimization"><a  href="/fundamentals/performance/optimizing-content-efficiency/webfont-optimization.html">Webfont optimization </a></li>
  <li title="HTTP caching"><a  href="/fundamentals/performance/optimizing-content-efficiency/http-caching.html">HTTP caching </a></li>
  </ol>
  </div>
</div>


      
    </div> <!-- /.article-container -->
    <div class="container clear">
	<div id="gc-content-license" class="gc-content-license g-wide--3 g-wide--last" >
		

  <p>Updated on 2014-09-12</p>


		<div class="container clear">
	<div class="g-wide--3 g-wide--last">
    
		<h4>Authors</h4>
		
		
    <a href="/fundamentals/resources/contributors/index.html#ilyagrigorik">
      Ilya Grigorik</a>
		
    
		
	</div>
</div>

		<p>Except as otherwise noted, the content of this page is licensed under the <a href="http://creativecommons.org/licenses/by/3.0/" itemprop="license">Creative Commons Attribution 3.0 License</a>, and code samples are licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0 License</a>. For details, see our <a href="/site-policies">Site Policies</a>.</p>
	</div>
</div>

    <footer class="main-footer">
  <div class="main-footer__container container clear">
    <div class="main-footer__list-group">
      <ul class="main-footer__list main-footer__list--primary">
      

        
        

        
        <li class="sitemap__item sitemap__item--web-<strong>fundamentals</strong>  sitemap__item--home  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/fundamentals/" title="Go to Web Fundamentals">
            Web <strong>Fundamentals</strong>
          </a>
        </li>
        
      

        
        

        
        <li class="sitemap__item sitemap__item--get-started  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/fundamentals/getting-started/" title="Go to Get Started">
            Get Started
          </a>
        </li>
        
      

        
        

        
        <li class="sitemap__item sitemap__item--documentation   sitemap__item--has-child">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/fundamentals/#documentation" title="Go to Documentation">
            Documentation
          </a>
        </li>
        
      

        
        

        
        <li class="sitemap__item sitemap__item--tools  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/fundamentals/tools/" title="Go to Tools">
            Tools
          </a>
        </li>
        
      

        
        

        
        <li class="sitemap__item sitemap__item--resources  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/fundamentals/resources/" title="Go to Resources">
            Resources
          </a>
        </li>
        
      

        
        

        
        <li class="sitemap__item sitemap__item--web-<strong>starter-kit</strong>  ">
          <a class="sitemap-list__link sitemap-list__link--parent" href="/starter-kit/" title="Go to Web Starter Kit">
            Web <strong>Starter Kit</strong>
          </a>
        </li>
        
      
      </ul>

      <div class="main-footer__google-section">
        <h3 class="main-footer__title"><a href="https://developers.google.com/">
          <img id="developers-logo-footer" src="/imgs/developers-logo_short.svg" alt="Google Developers logo">
        </a></h3>
        <ul class="main-footer__list main-footer__list--secondary google-list">
          <li><a href="http://www.google.com/">Google</a></li>
          <li><a href="http://developers.google.com/site-terms">Terms of Service</a></li>
          <li><a href="http://www.google.com/intl/en/privacy/">Privacy Policy</a></li>
          <li><a href="http://developers.google.com/careers">Careers</a></li>
        </ul>
      </div>
    </div>
  </div>
</footer>



    

<script type="text/javascript">
  (function(document) {
        var toggleDocumentationMenu = function() {
          var navBtn = document.querySelector('.main-nav__btn');
          var navList = document.querySelector('.main-nav__list');
          var navIsOpenedClass = 'nav-is-opened';
          var navListIsOpened = false;

          navBtn.addEventListener('click', function (event) {
            event.preventDefault();

            if (!navListIsOpened) {
              addClass(navList, navIsOpenedClass);
              navListIsOpened = true;
            } else {
              removeClass(navList, navIsOpenedClass);
              navListIsOpened = false;
            }
          });
        }

        var toggleMainNav = function() {
          var documentationItem =
              document.querySelector('.main-nav__item--documentation');
          var documentationLink =
              document.querySelector('.main-nav__item--documentation > .main-nav__link');
          var documentationIsOpenedClass = 'subnav-is-opened';
          var documentationIsOpened = false;

          if (documentationLink) {
            documentationLink.addEventListener('click', function (event) {
              event.preventDefault();

              if (!documentationIsOpened) {
                documentationIsOpened = true;
                addClass(documentationItem, documentationIsOpenedClass);
              } else {
                documentationIsOpened = false;
                removeClass(documentationItem, documentationIsOpenedClass);
              }

            });
          }
        }

        var isTouch = function() {
          return ('ontouchstart' in window) ||
            window.DocumentTouch && document instanceof DocumentTouch;
        };

        var addClass = function (element, className) {
          if (!element) { return; }
          element.className = element.className.replace(/\s+$/gi, '') + ' ' + className;
        }

        var removeClass = function(element, className) {
          if (!element) { return; }
          element.className = element.className.replace(className, '');
        }

        var html = document.querySelector('html');
        removeClass(html, 'no-js');
        addClass(html, 'js');

        if (isTouch()) {
          removeClass(html, 'no-touch');
          addClass(html, 'is-touch');
        }

        toggleDocumentationMenu();
        toggleMainNav();
      })(document);
</script>

  </body>
</html>

